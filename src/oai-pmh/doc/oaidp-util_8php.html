<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OAI PHP: oaidp-util.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>oaidp-util.php File Reference</h1>
<p>Utilities for the OAI Data Provider.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#aa3afe455ebcb53d49aeabdc36bd253a9">debug_var_dump</a> ($var_name, $var)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#aff784f491a65b5d559b35fbb493ed302">debug_print_r</a> ($var_name, $var)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#aca2e61491b4dae76fd23377278603f17">debug_message</a> ($msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a37031622cea80cce6cbf16b57eaca2d5">checkArgs</a> ($args, $checkList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#ae905a3efc7fa57234281c5b3c0c6263b">is_valid_uri</a> ($url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a858308b8b1661b51cd90adcf87e317d5">is_valid_attrb</a> ($attrb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a7a9e7018a84d9c4fcdd9b506190111b7">formatDatestamp</a> ($datestamp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a232c4bad0c6ffbc4fe807a8c8d90e995">checkDateFormat</a> ($date)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a97611dd63553f772544caf734e361c27">prepare_set_names</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a15e3575a24a836735a85f98e5a48d8a3">oai_exit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#ab1bbb4394699d1f179e0bff5f8855d61">get_token</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#aab3b3210249a9266233585f35e229be0">createResumToken</a> ($cursor, $extquery, $metadataPrefix)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#ac8cfe4aab2fcb0a65541a8d43f676bd6">readResumToken</a> ($resumptionToken)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a168580aadc94d43469c3a559e5cd020e">selectallQuery</a> ($metadPrefix=&quot;rif&quot;, $id= '')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a95109fa7c10630289fef54e17d36e5cc">idFormatQuery</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a703d34cf62f5b17bbc0890f9369661a5">idQuery</a> ($metadPrefix=&quot;rif&quot;, $id= '')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#aaed2ad6aadde56934a3ac40e22b0887a">untilQuery</a> ($until)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a203f16831bd6dd303b06ce87b64c9a18">fromQuery</a> ($from)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#ad7ac48ddc3bda898a075390e66141021">setQuery</a> ($set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a905eb54bfc79eef17a46316b4c4f84fe">rowCount</a> ($metadataPrefix, $extQuery, $db)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a108425a77dcb5bf31c4f04e1e510a10c">process_pdo_error</a> ($query, $e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="oaidp-util_8php.html#a64ad01d52298e1410a73c901d83a6af7">exec_pdo_query</a> ($db, $query)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A collection of functions used. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa3afe455ebcb53d49aeabdc36bd253a9"></a><!-- doxytag: member="oaidp&#45;util.php::debug_var_dump" ref="aa3afe455ebcb53d49aeabdc36bd253a9" args="($var_name, $var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">debug_var_dump </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dump information of a varible for debugging, only works when SHOW_QUERY_ERROR is true. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$var_name</em>&nbsp;</td><td>Type: string Name of variable is being debugded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$var</em>&nbsp;</td><td>Type: mix Any type of varibles used in PHP </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="oaidp-config_8php.html#a2d07c29fad973dae16d991239170ff2d">SHOW_QUERY_ERROR</a> in <a class="el" href="oaidp-config_8php.html" title="Configuration file of current data provider.">oaidp-config.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aff784f491a65b5d559b35fbb493ed302"></a><!-- doxytag: member="oaidp&#45;util.php::debug_print_r" ref="aff784f491a65b5d559b35fbb493ed302" args="($var_name, $var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">debug_print_r </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>var</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prints human-readable information about a variable for debugging, only works when SHOW_QUERY_ERROR is true. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$var_name</em>&nbsp;</td><td>Type: string Name of variable is being debugded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$var</em>&nbsp;</td><td>Type: mix Any type of varibles used in PHP </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="oaidp-config_8php.html#a2d07c29fad973dae16d991239170ff2d">SHOW_QUERY_ERROR</a> in <a class="el" href="oaidp-config_8php.html" title="Configuration file of current data provider.">oaidp-config.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aca2e61491b4dae76fd23377278603f17"></a><!-- doxytag: member="oaidp&#45;util.php::debug_message" ref="aca2e61491b4dae76fd23377278603f17" args="($msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">debug_message </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prints a message for debugging, only works when SHOW_QUERY_ERROR is true. PHP function print_r can be used to construct message with <em>return</em> parameter sets to true. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$msg</em>&nbsp;</td><td>Type: string Message needs to be shown </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="oaidp-config_8php.html#a2d07c29fad973dae16d991239170ff2d">SHOW_QUERY_ERROR</a> in <a class="el" href="oaidp-config_8php.html" title="Configuration file of current data provider.">oaidp-config.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a37031622cea80cce6cbf16b57eaca2d5"></a><!-- doxytag: member="oaidp&#45;util.php::checkArgs" ref="a37031622cea80cce6cbf16b57eaca2d5" args="($args, $checkList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkArgs </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>checkList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if provided correct arguments for a request.</p>
<p>Only number of parameters is checked. metadataPrefix has to be checked before it is used. set has to be checked before it is used. resumptionToken has to be checked before it is used. from and until can easily checked here because no extra information is needed. </p>

</div>
</div>
<a class="anchor" id="ae905a3efc7fa57234281c5b3c0c6263b"></a><!-- doxytag: member="oaidp&#45;util.php::is_valid_uri" ref="ae905a3efc7fa57234281c5b3c0c6263b" args="($url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_valid_uri </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validates an identifier. The pattern is: '/^[-a-z\.0-9]+$/i' which means it accepts -, letters and numbers. Used only by function <b>oai_error</b> code idDoesNotExist. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$url</em>&nbsp;</td><td>Type: string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a858308b8b1661b51cd90adcf87e317d5"></a><!-- doxytag: member="oaidp&#45;util.php::is_valid_attrb" ref="a858308b8b1661b51cd90adcf87e317d5" args="($attrb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_valid_attrb </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attrb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validates attributes come with the query. It accepts letters, numbers, ':', '_', '.' and -. Here there are few more match patterns than <a class="el" href="oaidp-util_8php.html#ae905a3efc7fa57234281c5b3c0c6263b">is_valid_uri()</a>: ':_'. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$attrb</em>&nbsp;</td><td>Type: string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a9e7018a84d9c4fcdd9b506190111b7"></a><!-- doxytag: member="oaidp&#45;util.php::formatDatestamp" ref="a7a9e7018a84d9c4fcdd9b506190111b7" args="($datestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">formatDatestamp </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>datestamp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>All datestamps used in this system are GMT even return value from database has no TZ information </p>

</div>
</div>
<a class="anchor" id="a232c4bad0c6ffbc4fe807a8c8d90e995"></a><!-- doxytag: member="oaidp&#45;util.php::checkDateFormat" ref="a232c4bad0c6ffbc4fe807a8c8d90e995" args="($date)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkDateFormat </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>date</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The database uses datastamp without time-zone information. It needs to clean all time-zone informaion from time string and reformat it </p>

</div>
</div>
<a class="anchor" id="a97611dd63553f772544caf734e361c27"></a><!-- doxytag: member="oaidp&#45;util.php::prepare_set_names" ref="a97611dd63553f772544caf734e361c27" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">prepare_set_names </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve all defined 'setSpec' from configuraiton of $SETS. It is used by <a class="el" href="classANDS__TPA.html#a240dd35f9a2b3b15d77e424e467a64ad">ANDS_TPA::create_obj_node()</a>; </p>

</div>
</div>
<a class="anchor" id="a15e3575a24a836735a85f98e5a48d8a3"></a><!-- doxytag: member="oaidp&#45;util.php::oai_exit" ref="a15e3575a24a836735a85f98e5a48d8a3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">oai_exit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish a request when there is an error: send back errors. </p>

</div>
</div>
<a class="anchor" id="ab1bbb4394699d1f179e0bff5f8855d61"></a><!-- doxytag: member="oaidp&#45;util.php::get_token" ref="ab1bbb4394699d1f179e0bff5f8855d61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_token </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generate a string based on the current Unix timestamp in microseconds for creating resumToken file name. </p>

</div>
</div>
<a class="anchor" id="aab3b3210249a9266233585f35e229be0"></a><!-- doxytag: member="oaidp&#45;util.php::createResumToken" ref="aab3b3210249a9266233585f35e229be0" args="($cursor, $extquery, $metadataPrefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">createResumToken </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extquery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>metadataPrefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a token file. It has three parts which is separated by '#': cursor, extension of query, metadataPrefix. Called by <a class="el" href="listrecords_8php.html" title="Response to Verb ListRecords.">listrecords.php</a>. </p>

</div>
</div>
<a class="anchor" id="ac8cfe4aab2fcb0a65541a8d43f676bd6"></a><!-- doxytag: member="oaidp&#45;util.php::readResumToken" ref="ac8cfe4aab2fcb0a65541a8d43f676bd6" args="($resumptionToken)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readResumToken </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>resumptionToken</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read a saved ResumToken </p>

</div>
</div>
<a class="anchor" id="a168580aadc94d43469c3a559e5cd020e"></a><!-- doxytag: member="oaidp&#45;util.php::selectallQuery" ref="a168580aadc94d43469c3a559e5cd020e" args="($metadPrefix=&quot;rif&quot;, $id= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">selectallQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>metadPrefix</em> = <code>&quot;rif&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function should generate a query which will return all records the useless condition id_column = id_column is just there to ease further extensions to the query, please leave it as it is. </p>

</div>
</div>
<a class="anchor" id="a95109fa7c10630289fef54e17d36e5cc"></a><!-- doxytag: member="oaidp&#45;util.php::idFormatQuery" ref="a95109fa7c10630289fef54e17d36e5cc" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">idFormatQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return metadataFormat of a record </p>

</div>
</div>
<a class="anchor" id="a703d34cf62f5b17bbc0890f9369661a5"></a><!-- doxytag: member="oaidp&#45;util.php::idQuery" ref="a703d34cf62f5b17bbc0890f9369661a5" args="($metadPrefix=&quot;rif&quot;, $id= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">idQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>metadPrefix</em> = <code>&quot;rif&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function will return identifier and datestamp for all records not very useful </p>

</div>
</div>
<a class="anchor" id="aaed2ad6aadde56934a3ac40e22b0887a"></a><!-- doxytag: member="oaidp&#45;util.php::untilQuery" ref="aaed2ad6aadde56934a3ac40e22b0887a" args="($until)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">untilQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>until</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>filter for until, appends to the end of SQL query </p>

</div>
</div>
<a class="anchor" id="a203f16831bd6dd303b06ce87b64c9a18"></a><!-- doxytag: member="oaidp&#45;util.php::fromQuery" ref="a203f16831bd6dd303b06ce87b64c9a18" args="($from)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fromQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>from</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>filter for from , appends to the end of SQL query </p>

</div>
</div>
<a class="anchor" id="ad7ac48ddc3bda898a075390e66141021"></a><!-- doxytag: member="oaidp&#45;util.php::setQuery" ref="ad7ac48ddc3bda898a075390e66141021" args="($set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setQuery </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>set</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>filter for sets, appends to the end of SQL query </p>

</div>
</div>
<a class="anchor" id="a905eb54bfc79eef17a46316b4c4f84fe"></a><!-- doxytag: member="oaidp&#45;util.php::rowCount" ref="a905eb54bfc79eef17a46316b4c4f84fe" args="($metadataPrefix, $extQuery, $db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rowCount </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>metadataPrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extQuery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>db</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>for accurately to assess how many records satisfy conditions for all DBs </p>

</div>
</div>
<a class="anchor" id="a108425a77dcb5bf31c4f04e1e510a10c"></a><!-- doxytag: member="oaidp&#45;util.php::process_pdo_error" ref="a108425a77dcb5bf31c4f04e1e510a10c" args="($query, $e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">process_pdo_error </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>e</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A worker function for processing an error when a query was executed </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>string, original query </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$e</em>&nbsp;</td><td>PDOException, the PDOException object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a64ad01d52298e1410a73c901d83a6af7"></a><!-- doxytag: member="oaidp&#45;util.php::exec_pdo_query" ref="a64ad01d52298e1410a73c901d83a6af7" args="($db, $query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">exec_pdo_query </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When query return no result, throw an Exception of Not found. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$db</em>&nbsp;</td><td>PDO </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>$res PDOStatement </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 16 12:49:22 2011 for OAI PHP by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
